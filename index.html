<!doctype html>
<html>
<head>
   <title>CourseGraph</title>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE-edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <!-- visjs -->
   <script type="text/javascript" src="./resources/vis/dist/vis.js"></script>
   <link href="./resources/vis/dist/vis-network.min.css" rel="stylesheet" type="text/css" />
   
   <!-- Local Data Files -->
   <script type="text/javascript" src="./resources/js/util.js"></script>
   <script type="text/javascript" src="./resources/js/combined_edges.js"></script>
   <script type="text/javascript" src="./resources/js/combined_nodes.js"></script>
   <link rel="stylesheet" type="text/css" href="./resources/css/styles.css">
   
   <!-- Bootstrap Stuff -->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> 
   <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

   <link href="https://fonts.googleapis.com/css?family=Lora" rel="stylesheet"> 
</head>
<body>

<p>
  Create a simple network of classes with some nodes and edges.
</p>
<div class="container-fluid">
   <div class="row"> <!-- select a school -->
      <div class="col-xs-6">
         <div class="input-group dropdown" id="schoolBlock">
         <span class="input-group-btn">
           <button class= "btn btn-primary btn-block dropdown-toggle"  id="schoolSelectButton" type="input-button" data-toggle="dropdown">Schools
               <span class="caret"></span>
            </button>
         
            <ul class="col-xs-12 dropdown-menu scrollable-menu" id="schoolSelect">
            </ul>
         </span>

         </div>
      </div>
         <div class="col-xs-6">
         <div class="form-group">
            <input type="text" class="form-control" name="schoolSearch" id= "schoolSearch" onkeyup="matchSchoolSearch();" placeholder="Pick a school"></input>
         </div>
         </div>
      </div> <!-- end select a school -->
   <div class="row"> <!-- select a class -->
      <div class="col-xs-6">
         <div class="input-group dropdown" id="courseBlock">
         <span class="input-group-btn">
           <button class= "btn btn-primary btn-block dropdown-toggle"  id="courseSelectButton" type="input-button" data-toggle="dropdown">Available Classes
               <span class="caret"></span>
            </button>
         
            <ul class="col-xs-12 dropdown-menu scrollable-menu" id="courseSelect">

            </ul>
         </span>

         </div>
      </div>
         <div class="col-xs-6">
         <div class="form-group">
            <input type="text" class="form-control" name="courseSearch" id= "courseSearch" onkeyup="matchCourseSearch();" placeholder="Search for courses by number or name"></input>
         </div>
         </div>
      </div>
      </div> <!-- end select a class -->
</div>
<div class="network" id="mynetwork"></div>
<script type="text/javascript">
   nodes = JSON.stringify(nodes);
   nodes = nodes.split("\"fullname\":").join("\"title\":");
   nodes = nodes.split("\"identifier\":").join("\"id\":");
   //nodes = nodes.split("\"school\":").join("\"group\":");
   nodes = JSON.parse(nodes);
   var schools = [];
   for(var i = 0; i < nodes.length; i++) {
      //nodes[i]["level"] = nodes[i].group;
      nodes[i]["label"] = nodes[i].id;
      if(schools.indexOf(nodes[i].group) == -1) {
         schools.push(nodes[i].group);
      }
   }
   var schoolSelected = false;
   //create nodes
   var nodeSet = new vis.DataSet(nodes);

   //create edges
   var edgeSet = new vis.DataSet(edges);
   var options = {
      layout: {
         improvedLayout: true,
         hierarchical: {
            direction:"LR",
            sortMethod: "directed",
            nodeSpacing: 100,
            levelSeparation: 150
         }
      },
      edges: {
         smooth: {
            enabled: true,
            type: "curvedCW"
         }
      },
      physics: false
   };
   var network;
   var allNodes;
   var tempNodes;
   var highlightActive = false;
   draw(nodeSet, edgeSet); 
</script>


</body>
</html>
